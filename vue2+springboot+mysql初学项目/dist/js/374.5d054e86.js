"use strict";(self["webpackChunkgrad_project"]=self["webpackChunkgrad_project"]||[]).push([[374],{6876:function(t,e,o){o.r(e),o.d(e,{default:function(){return c}});var s=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("el-table",{attrs:{data:t.lessons}},[e("el-table-column",{attrs:{label:"课程名称",prop:"name"}}),e("el-table-column",{attrs:{label:"简介",prop:"text"}}),e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"600"},scopedSlots:t._u([{key:"default",fn:function(o){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.showUpdate(o.row)}}},[t._v("更改简介")]),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.deleteLesson(o.row)}}},[t._v("删除课程")])]}}])})],1),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.addLesson()}}},[t._v("增加课程")]),e("el-dialog",{staticStyle:{width:"1000px",margin:"auto"},attrs:{title:"新增课程",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("el-form",{attrs:{model:t.form}},[e("el-row",[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"课程名称"}},[e("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"课程名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"课程简介"}},[e("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",placeholder:"课程简介"},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1)],1)],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submit()}}},[t._v("确 定")])],1)],1),e("el-dialog",{staticStyle:{width:"1000px",margin:"auto"},attrs:{title:"修改简介",visible:t.dialogBlogVisible},on:{"update:visible":function(e){t.dialogBlogVisible=e}}},[e("el-form",{attrs:{model:t.form}},[e("el-row",[e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"课程简介"}},[e("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",placeholder:"课程简介"},model:{value:t.updateForm.text,callback:function(e){t.$set(t.updateForm,"text",e)},expression:"updateForm.text"}})],1)],1)],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogBlogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updatetext()}}},[t._v("确 定")])],1)],1)],1)},l=[],a=o(8739);const i={inject:["reload"],data(){return{lessons:"",form:{name:"",text:""},dialogFormVisible:!1,dialogBlogVisible:!1,updateForm:{id:"",name:"",text:""}}},mounted:function(){this.getLessons()},methods:{getLessons(){a.Z.request({baseURL:"http://localhost:8090/",url:"/video/selectLesson",method:"get",headers:{"Content-Type":"application/json"}}).then((t=>{this.lessons=t.data}))},addLesson(){this.dialogFormVisible=!0},submit(){a.Z.request({baseURL:"http://localhost:8090/",url:"/video/addLesson",method:"post",data:this.form,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}).then((t=>{t.data&&(this.$message("增加成功"),this.reload())}))},showUpdate(t){this.dialogBlogVisible=!0,this.updateForm.id=t.id,this.updateForm.name=t.name},updatetext(){a.Z.request({baseURL:"http://localhost:8090/",url:"/video/updateLesson",method:"post",data:this.updateForm,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}).then((t=>{t.data&&(this.$message("修改成功"),this.reload())}))},deleteLesson(t){a.Z.request({baseURL:"http://localhost:8090/",url:"/video/deleteLesson",method:"post",data:t.id,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}).then((t=>{t.data&&(this.$message("删除成功"),this.reload())}))}}};var r=i,n=r,d=o(1001),u=(0,d.Z)(n,s,l,!1,null,null,null),c=u.exports}}]);
//# sourceMappingURL=374.5d054e86.js.map