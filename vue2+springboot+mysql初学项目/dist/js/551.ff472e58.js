"use strict";(self["webpackChunkgrad_project"]=self["webpackChunkgrad_project"]||[]).push([[551],{1551:function(e,r,t){t.r(r),t.d(r,{default:function(){return p}});var l=function(){var e=this,r=e._self._c;e._self._setupProxy;return r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"昵称",prop:"name"}},[r("el-input",{model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name",r)},expression:"ruleForm.name"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),r("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date"},model:{value:e.ruleForm.birthday,callback:function(r){e.$set(e.ruleForm,"birthday",r)},expression:"ruleForm.birthday"}})],1),r("el-form-item",{attrs:{label:"电话",prop:"tell"}},[r("el-input",{model:{value:e.ruleForm.tell,callback:function(r){e.$set(e.ruleForm,"tell",r)},expression:"ruleForm.tell"}})],1),r("el-form-item",{attrs:{label:"姓名",prop:"realname"}},[r("el-input",{model:{value:e.ruleForm.realname,callback:function(r){e.$set(e.ruleForm,"realname",r)},expression:"ruleForm.realname"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.ruleForm.email,callback:function(r){e.$set(e.ruleForm,"email",r)},expression:"ruleForm.email"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("立即修改")])],1)],1)},a=[],s=(t(7658),t(8739));const u={data(){return{ruleForm:{name:"",password:"",day:new Date,banday:new Date,birthday:"",admin:0,tell:"",realname:"",email:""},rules:{name:[{required:!0,message:"请输入您的昵称",trigger:"blur"},{min:2,max:5,message:"长度在 2 到 5 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入您的密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],birthday:[{required:!0,message:"请输入您的生日",trigger:"blur"}],tell:[{required:!0,message:"电话不能为空",trigger:"blur"},{pattern:/^1[0-9]\d{9,11}$/,message:"电话必须为数字值且是11-12位",trigger:"blur"}],realname:[{required:!0,message:"请输入您的真名",trigger:"blur"},{pattern:/^[\u4E00-\u9FA5\uf900-\ufa2d·s]{2,10}$/,message:"请输入中文且长度2-10位",trigger:"blur"}],email:[{required:!0,message:"请输入您的邮箱",trigger:"blur"},{trigger:"blur"}]}}},methods:{getUser(){s.Z.request({baseURL:"http://localhost:8090/",url:"/user/selectByName?name="+this.$store.state.name,method:"get",headers:{"Content-Type":"application/json"}}).then((e=>{this.ruleForm=e.data}))},submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;s.Z.request({baseURL:"http://localhost:8090/",url:"/user/updateSelf",data:this.ruleForm,method:"post",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}).then((e=>{e.data?(alert("修改成功，即将跳转"),this.push("/UserMenu")):alert("用户名重复，请再次输入")}))}))}},mounted:function(){this.getUser()}};var o=u,m=o,i=t(1001),n=(0,i.Z)(m,l,a,!1,null,null,null),p=n.exports}}]);
//# sourceMappingURL=551.ff472e58.js.map